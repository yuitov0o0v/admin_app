# ARuKOBE ç®¡ç†è€…ã‚¢ãƒ—ãƒª

ä½ç½®æƒ…å ±ã¨ARï¼ˆæ‹¡å¼µç¾å®Ÿï¼‰ã‚’æ´»ç”¨ã—ãŸã‚¤ãƒ™ãƒ³ãƒˆãƒ»ã‚¹ãƒãƒƒãƒˆç®¡ç†ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã™ã€‚
ç®¡ç†è€…ã¯Webç®¡ç†ç”»é¢ã‹ã‚‰ã‚¹ãƒãƒƒãƒˆã‚„ARã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’åœ°å›³ä¸Šã§ç™»éŒ²ãƒ»ç®¡ç†ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªï¼ˆiOSï¼‰ã‚’é€šã˜ã¦ç¾å®Ÿä¸–ç•Œã§ARä½“é¨“ã‚„ã‚¹ã‚¿ãƒ³ãƒ—ãƒ©ãƒªãƒ¼ã‚’æ¥½ã—ã‚€ã“ã¨ãŒã§ãã¾ã™ã€‚

## âœ¨ ä¸»ãªæ©Ÿèƒ½

### ğŸ–¥ï¸ Webç®¡ç†ã‚³ãƒ³ã‚½ãƒ¼ãƒ« (Admin)

* **èªè¨¼ã‚·ã‚¹ãƒ†ãƒ **: æ‹›å¾…åˆ¶ã«ã‚ˆã‚‹ç®¡ç†è€…ç™»éŒ²ã€ãƒ­ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ (RBAC)ã€‚
* **ã‚¹ãƒãƒƒãƒˆç®¡ç†**: React Leafletã‚’ä½¿ç”¨ã—ãŸåœ°å›³ä¸Šã§ã®ç›´æ„Ÿçš„ãªã‚¹ãƒãƒƒãƒˆç™»éŒ²ï¼ˆä½ç½®æƒ…å ±ã€ç”»åƒã€è©³ç´°ï¼‰ã€‚
* **ã‚¤ãƒ™ãƒ³ãƒˆä½œæˆ**: è¤‡æ•°ã®ã‚¹ãƒãƒƒãƒˆã‚’å·¡ã‚‹ãƒ«ãƒ¼ãƒˆã‚„ã‚¤ãƒ™ãƒ³ãƒˆã®ä½œæˆãƒ»å…¬é–‹è¨­å®šã€‚
* **ARã‚¢ã‚»ãƒƒãƒˆç®¡ç†**: 3Dãƒ¢ãƒ‡ãƒ«ï¼ˆ.glb, .usdzï¼‰ã¨ã‚µãƒ ãƒã‚¤ãƒ«ã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒ»ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ©Ÿèƒ½ã€‚
* **ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰**: ç™»éŒ²ãƒ‡ãƒ¼ã‚¿ã®ãƒªã‚¹ãƒˆè¡¨ç¤ºã¨æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã€‚

### ğŸ“± iOSã‚¢ãƒ—ãƒª (User Client)

* **ãƒãƒƒãƒ—æ¢ç´¢**: ç¾åœ¨åœ°å‘¨è¾ºã®ã‚¹ãƒãƒƒãƒˆè¡¨ç¤ºã€‚
* **ARä½“é¨“**: ã‚¹ãƒãƒƒãƒˆã§ARã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’è¡¨ç¤ºï¼ˆARKitï¼‰ã€‚
* **ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³**: ä½ç½®æƒ…å ±ã‚’åˆ©ç”¨ã—ãŸè¨ªå•è¨˜éŒ²ã€‚

## ğŸ› ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### Frontend (Web)

* **Framework**: React (Vite)
* **Language**: TypeScript
* **UI Library**: Material UI (MUI)
* **Map**: React Leaflet
* **State/Auth**: Context API

### Backend / Infrastructure

* **Platform**: Supabase
* **Database**: PostgreSQL
* **Auth**: Supabase Auth (JWT, Row Level Security)
* **Storage**: ç”»åƒãŠã‚ˆã³3Dãƒ¢ãƒ‡ãƒ«ã®ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°
* **Edge Functions / Triggers**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ­ãƒ¼ãƒ«åŒæœŸã€ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³



### Mobile (iOS)

* **Language**: Swift 5+
* **UI**: SwiftUI
* **AR**: ARKit
* **SDK**: supabase-swift

---

## ğŸš€ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— (Webç®¡ç†è€…ç”»é¢)

### 1. å‰ææ¡ä»¶

* Node.js (v18ä»¥ä¸Šæ¨å¥¨)
* npm ã¾ãŸã¯ yarn
* Supabase ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ

### 2. ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³ã—ã€ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

```bash
git clone https://github.com/your-username/ar-spot-platform.git
cd ar-spot-platform
npm install

```

### 3. ç’°å¢ƒå¤‰æ•°ã®è¨­å®š

ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã« `.env` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã€Supabaseã®ã‚­ãƒ¼ã‚’è¨­å®šã—ã¾ã™ã€‚

```env
VITE_SUPABASE_URL=https://your-project-id.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key

```

### 4. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— (Supabase)

Supabaseã®SQLã‚¨ãƒ‡ã‚£ã‚¿ã§ã€ä»¥ä¸‹ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã¨è¨­å®šã‚’è¡Œã£ã¦ãã ã•ã„ï¼ˆè©³ç´°ã¯ `/docs/schema.sql` ãªã©ã‚’å‚ç…§ï¼‰ã€‚

**å¿…é ˆãƒ†ãƒ¼ãƒ–ãƒ«:**

* `spots`: ã‚¹ãƒãƒƒãƒˆæƒ…å ±
* `events`: ã‚¤ãƒ™ãƒ³ãƒˆæƒ…å ±
* `ar_model`: ARãƒ¢ãƒ‡ãƒ«ã¨ã‚µãƒ ãƒã‚¤ãƒ«
* `user_roles`: ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¨©é™ç®¡ç†
* `invitations`: ç®¡ç†è€…æ‹›å¾…ç”¨

**å¿…é ˆãƒã‚±ãƒƒãƒˆ (Storage):**

* `spot_images` (Public)
* `ar-models` (Public)
* `event-images` (public)

**âš ï¸ é‡è¦: ãƒ­ãƒ¼ãƒ«åŒæœŸãƒˆãƒªã‚¬ãƒ¼**
Authã¨DBã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’åŒæœŸã•ã›ã‚‹ãŸã‚ã€ä»¥ä¸‹ã®é–¢æ•°ã¨ãƒˆãƒªã‚¬ãƒ¼ã‚’å¿…ãšè¨­å®šã—ã¦ãã ã•ã„ã€‚

ã“ã®functionã‚’Auth Hooksã®Customize Access Token (JWT) Claims hookã«è¨­å®šã—ã¦ãã ã•ã„
public.function  custom_access_token_hook

### 5. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•

```bash
npm run dev

```

ãƒ–ãƒ©ã‚¦ã‚¶ã§ `http://localhost:5173` ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚

---

## ğŸ“± iOSã‚¢ãƒ—ãƒªã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

https://github.com/H4KuuuA/KobeARStampApp

---

## ğŸ“¦ ãƒ‡ãƒ—ãƒ­ã‚¤

Vercel ã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’æ¨å¥¨ã—ã¾ã™ã€‚

1. GitHubã«ã‚³ãƒ¼ãƒ‰ã‚’ãƒ—ãƒƒã‚·ãƒ¥ã€‚
2. Vercelã§ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã€‚
3. Environment Variables ã« `.env` ã®å†…å®¹ã‚’è¨­å®šã€‚
4. Deploy å®Ÿè¡Œã€‚
5. Supabaseã® **Authentication > URL Configuration** ã«Vercelã®URLã‚’è¿½åŠ ã€‚

---
